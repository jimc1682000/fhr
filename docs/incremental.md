# 增量分析功能 🚀

## 工作原理
1. **檔案名稱識別**：自動從檔名提取使用者姓名和日期範圍
2. **狀態管理**：使用 `attendance_state.json` 記錄處理歷史
3. **智慧重疊檢測**：自動處理跨月檔案的日期重疊問題
4. **完整工作日識別**：僅處理有上下班記錄的完整工作日
5. **按月額度管理**：忘刷卡使用次數按年月分別計算

## 檔案命名規範
為了啟用增量分析，檔案名稱必須遵循以下格式：
- **單月檔案**：`YYYYMM-姓名-出勤資料.txt`（如：`202508-員工姓名-出勤資料.txt`）
- **跨月檔案**：`YYYYMM-YYYYMM-姓名-出勤資料.txt`（如：`202508-202509-員工姓名-出勤資料.txt`）

## 狀態檔案說明
系統會在專案根目錄建立 `attendance_state.json` 來追蹤：
- 各使用者的處理日期範圍
- 每月忘刷卡使用統計
- 最後處理時間記錄

⚠️ 注意事項：
- 如果檔案名稱不符合規範，系統會自動回退到完整分析模式
- 🔒 隱私保護：`attendance_state.json` 包含使用者識別資訊，已設定為不提交至版本控制
- 📁 本地檔案：每位使用者的狀態檔案僅存於本地，不會與他人共享

